@using Microsoft.AspNetCore.Identity
@using LexiconMVC.Models

@inject SignInManager<ApplicationUserModel> SignInManager
@inject UserManager<ApplicationUserModel> UserManager

<ul class="navbar-nav ms-auto me-4">
	<li class="nav-item dropdown">

		@if(SignInManager.IsSignedIn(User))
		{
			<a class="nav-link dropdown-toggle fs-5" href="#" role="button" data-bs-toggle="dropdown">User</a>
			<ul class="dropdown-menu dropdown-menu-dark bg-black">
				<li class="nav-item">
					<h5 class="dropdown-header">@UserManager.GetUserName(User)</h5>
				</li>
				<li><hr class="dropdown-divider"></li>
				<li class="nav-item">
					<a id="manage" class="dropdown-item fs-5" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Manage user</a>
				</li>
				<li class="nav-item">
					<form id="logoutForm" class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
						<button id="logout" type="submit" class="dropdown-item fs-5">Logout</button>
					</form>
				</li>
			</ul>
		}
		else
		{
			<a class="nav-link dropdown-toggle fs-5" href="#" role="button" data-bs-toggle="dropdown">Login</a>
			<ul class="dropdown-menu dropdown-menu-dark bg-black">
				<li class="nav-item">
					<a class="dropdown-item fs-5" id="login" asp-area="Identity" asp-page="/Account/Login">Login</a>
				</li>
				<li class="nav-item">
					<a class="dropdown-item fs-5" id="register" asp-area="Identity" asp-page="/Account/Register">Register</a>
				</li>
			</ul>
		}
	</li>
</ul>

